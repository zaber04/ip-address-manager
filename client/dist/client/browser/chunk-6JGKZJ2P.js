import{a as O,b as E,c as P}from"./chunk-CB7VP26C.js";import{b as D,c as L,d as R,e as $,f as q,g as B,h as H,l as G,m as ie,n as w}from"./chunk-3K4UZSKX.js";import{a as re}from"./chunk-4YL2JKF4.js";import{b as V}from"./chunk-MUKAY4P3.js";import{$ as _,Ea as j,G as n,Ga as y,H as u,Ha as ee,Ia as te,M as d,O as g,P as l,Q as a,R as f,S as v,T as I,U as F,W as b,X as c,Y as W,Z as T,_ as p,aa as S,d as z,e as J,ea as X,ia as k,m as x,oa as Y,pa as A,r as K,ra as Z,u as C,v as Q,y as M,z as N}from"./chunk-VTQJTHAG.js";var le=z(re());function ge(e,r){if(e&1&&(l(0,"div",23),p(1),a()),e&2){let t=c();n(1),S(" ",t.errors.message," ")}}function _e(e,r){e&1&&f(0,"app-form-error",26)}function he(e,r){e&1&&f(0,"app-form-error",27)}function be(e,r){if(e&1&&(v(0),g(1,_e,1,0,"app-form-error",24)(2,he,1,0,"app-form-error",25),I()),e&2){let t=c(),i,o;n(1),d("ngIf",(i=t.form.get("ip"))==null?null:i.errors),n(1),d("ngIf",(o=t.form.get("ip"))==null?null:o.errors)}}function ve(e,r){if(e&1&&f(0,"app-form-error",28),e&2){let t=c();d("message",t.errors.message||"")}}function Ie(e,r){e&1&&f(0,"app-form-error",30)}function xe(e,r){if(e&1&&(v(0),g(1,Ie,1,0,"app-form-error",29),I()),e&2){let t=c(),i;n(1),d("ngIf",(i=t.form.get("label"))==null?null:i.errors)}}function Se(e,r){if(e&1&&f(0,"app-form-error",28),e&2){let t=c();d("message",t.errors.message||"")}}function Ce(e,r){e&1&&f(0,"i",31)}var pe=(()=>{let r=class r{constructor(i,o,s,m){this.router=i,this.fb=o,this.ipHandlerService=s,this.paginationService=m,this.submitting=!1,this.errors=null;let h="(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";this.form=this.fb.group({ip:["",[L.required,L.pattern(h)]],label:["",[L.required]]})}goToNewIpList(){this.router.navigate(["ip-addresses"])}handleSubmit(){this.errors=null,this.submitting=!0,this.form.valid&&this.ipHandlerService.createIpAddress(this.form.value).pipe(x(()=>this.submitting=!1)).subscribe({next:i=>{le.default.fire({title:"Successfull",text:"IP is stored.",icon:"success",confirmButtonText:"ok"}).then(()=>{let o=this.paginationService.getSelectedPage();o>1?this.router.navigate(["/ip-handler"],{queryParams:{page:o}}):this.router.navigate(["/ip-handler"])})},error:({error:i})=>{this.errors=i?.errors}})}};r.\u0275fac=function(o){return new(o||r)(u(y),u(G),u(E),u(P))},r.\u0275cmp=C({type:r,selectors:[["app-ip-create"]],decls:35,vars:8,consts:[[1,"pageheader","pd-y-25"],[1,"pd-t-5","pd-b-5"],[1,"flex","justify-between"],[1,"pd-0","mg-0","tx-20","text-overflow"],["type","button",1,"btn","btn-info",3,"click"],[1,"row","clearfix"],[1,"col-md-6","offset-md-3"],["class","px-4 py-3 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400","role","alert",4,"ngIf"],[1,"card","mb-4","shadow-1"],[1,"card-header"],[1,"card-header-title"],[1,"card-body","collapse","show"],[1,"row",3,"formGroup","submit"],[1,"col-md-12"],[1,"form-group","mb-3"],["for","ip"],["type","text","formControlName","ip","id","ip","placeholder","IP Address, e.g: 192.168.0.57","autocomplete","off",1,"form-control"],[4,"ngIf"],[3,"message",4,"ngIf"],["for","label"],["type","text","formControlName","label","id","label","autocomplete","off","placeholder","Label, e.g.: Spare or BFBC2 Server",1,"form-control"],["type","submit",1,"btn","btn-info",3,"disabled"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],["role","alert",1,"px-4","py-3","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["message","IP Address is required.",4,"ngIf"],["message","IP Address is invalid.",4,"ngIf"],["message","IP Address is required."],["message","IP Address is invalid."],[3,"message"],["message","Label is required.",4,"ngIf"],["message","Label is required."],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(o,s){if(o&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),p(4,"IP Addresses"),a(),l(5,"button",4),b("click",function(){return s.goToNewIpList()}),p(6,"Manage IPs"),a()()()(),l(7,"div",5)(8,"div",6),g(9,ge,2,1,"div",7),l(10,"div",8)(11,"div",9)(12,"h4",10),p(13," Create New IP "),a()(),l(14,"div",11)(15,"form",12),b("submit",function(){return s.handleSubmit()}),l(16,"div",13)(17,"div",14)(18,"label",15),p(19,"IP Address"),a(),f(20,"input",16),g(21,be,3,2,"ng-container",17)(22,ve,1,1,"app-form-error",18),a()(),l(23,"div",13)(24,"div",14)(25,"label",19),p(26,"Label"),a(),f(27,"input",20),g(28,xe,2,1,"ng-container",17)(29,Se,1,1,"app-form-error",18),a()(),l(30,"div",13)(31,"div",14)(32,"button",21),p(33,"Save "),g(34,Ce,1,0,"i",22),a()()()()()()()()),o&2){let m,h;n(9),d("ngIf",s.errors&&(s.errors==null?null:s.errors.message)),n(6),d("formGroup",s.form),n(6),d("ngIf",((m=s.form.get("ip"))==null?null:m.errors)&&(((m=s.form.get("ip"))==null?null:m.touched)||((m=s.form.get("ip"))==null?null:m.dirty))),n(1),d("ngIf",s.errors&&(s.errors==null?null:s.errors.message)),n(6),d("ngIf",((h=s.form.get("label"))==null?null:h.errors)&&(((h=s.form.get("label"))==null?null:h.touched)||((h=s.form.get("label"))==null?null:h.dirty))),n(1),d("ngIf",s.errors&&(s.errors==null||s.errors.messages==null?null:s.errors.messages.label)),n(3),d("disabled",s.form.invalid||s.submitting),n(2),d("ngIf",s.submitting)}},dependencies:[A,q,D,R,$,B,H,w],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8!important;border-color:#17a2b8!important}.collapse[_ngcontent-%COMP%]{visibility:visible!important}"]});let e=r;return e})();var de=z(re());function Ae(e,r){if(e&1&&f(0,"app-form-error",22),e&2){let t=c(3);W("message",t.errorMessages.label)}}function ye(e,r){if(e&1&&(v(0),g(1,Ae,1,1,"app-form-error",19),I()),e&2){let t=c(2),i;n(1),d("ngIf",(i=t.form.get("label"))==null?null:i.errors)}}function Ee(e,r){if(e&1&&f(0,"app-form-error",22),e&2){let t=c(2);d("message",t.errors.messages.label[0])}}function Pe(e,r){e&1&&f(0,"i",23)}function Le(e,r){if(e&1){let t=F();v(0),l(1,"div",9)(2,"div",10)(3,"h4",11),p(4),a()(),l(5,"div",12)(6,"form",13),b("submit",function(){M(t);let o=c();return N(o.handleSubmit())}),l(7,"div",14)(8,"div",15)(9,"label",16),p(10),a(),f(11,"input",17),g(12,ye,2,1,"ng-container",18)(13,Ee,1,1,"app-form-error",19),a()(),l(14,"div",14)(15,"div",15)(16,"button",20),p(17),g(18,Pe,1,0,"i",21),a()()()()()(),I()}if(e&2){let t=c(),i;n(4),_(t.pageTitles.updateIp),n(2),d("formGroup",t.form),n(4),_(t.labels.commentLabel),n(1),W("placeholder",t.placeholders.commentLabel),n(1),d("ngIf",((i=t.form.get("label"))==null?null:i.errors)&&(((i=t.form.get("label"))==null?null:i.touched)||((i=t.form.get("label"))==null?null:i.dirty))),n(1),d("ngIf",t.errors&&(t.errors==null||t.errors.messages==null?null:t.errors.messages.label)),n(3),d("disabled",t.triedSubmission||t.form.invalid),n(1),S("",t.buttons.updateIp," "),n(1),d("ngIf",t.triedSubmission)}}function we(e,r){if(e&1&&(l(0,"div",9)(1,"div",24)(2,"div",25)(3,"p",26),p(4),a(),l(5,"p"),f(6,"i",27),a()()()()),e&2){let t=c();n(4),_(t.loadingMessages.pleaseWait)}}var me=(()=>{let r=class r{constructor(i,o,s,m,h){this.router=i,this.fb=o,this.ipHandlerService=s,this.route=m,this.paginationService=h,this.triedSubmission=!1,this.loading=!1,this.subscriptions=new V,this.pageTitles={ipAddresses:"IP Address List",updateIp:"Update IP"},this.buttons={manageIps:"Create IP",updateIp:"Update IP"},this.labels={commentLabel:"Label"},this.placeholders={commentLabel:"Label"},this.errorMessages={label:"Label is required."},this.loadingMessages={pleaseWait:"Please Wait For A While..."},this.id=this.route.snapshot.params.id,this.form=this.fb.group({label:["",[L.required]]})}ngOnInit(){this.loading=!0,this.paginationService.ipAddress.selectedIp?this.ipAddress$=this.paginationService.getSelectedIp():this.ipAddress$=this.ipHandlerService.getIpAddressById(this.id),this.subscriptions.sink=this.ipAddress$?.subscribe(i=>{this.loading=!1,i&&this.form.get("label")?.setValue(i?.label)})}goToNewIpList(){this.router.navigate(["ip-handler"])}handleSubmit(){this.triedSubmission=!0,this.form.valid&&this.ipHandlerService.updateIpAddress(this.id,this.form.value).pipe(x(()=>this.triedSubmission=!1)).subscribe({next:i=>{this.paginationService.setIpAddresses(null),this.paginationService.setSelectedIp(null),de.default.fire({title:"Success!",text:"IP updated successfully.",icon:"success",confirmButtonText:"ok"}).then(()=>{let o=this.paginationService.getSelectedPage();o>1?this.router.navigate(["/ip-handler"],{queryParams:{page:o}}):this.router.navigate(["/ip-handler"])})},error:({error:i})=>{this.errors=i?.errors}})}ngOnDestroy(){this.subscriptions.unsubscribe()}};r.\u0275fac=function(o){return new(o||r)(u(y),u(G),u(E),u(j),u(P))},r.\u0275cmp=C({type:r,selectors:[["app-ip-edit"]],decls:12,vars:4,consts:[[1,"pageheader","pd-y-25"],[1,"pd-t-5","pd-b-5"],[1,"flex","justify-between"],[1,"pd-0","mg-0","tx-20","text-overflow"],["type","button",1,"btn","btn-info",3,"click"],[1,"row","clearfix"],[1,"col-md-6","offset-md-3"],[4,"ngIf","ngIfElse"],["loadingBlock",""],[1,"card","mb-4","shadow-1"],[1,"card-header"],[1,"card-header-title"],[1,"card-body","collapse","show"],[1,"row",3,"formGroup","submit"],[1,"col-md-12"],[1,"form-group","mb-3"],["for","label"],["type","text","formControlName","label","id","label","autocomplete","off",1,"form-control",3,"placeholder"],[4,"ngIf"],[3,"message",4,"ngIf"],["type","submit",1,"btn","btn-info",3,"disabled"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[3,"message"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"card-body"],[1,"text-center"],[1,"text-3xl"],[1,"fa","fa-circle-o-notch","fa-spin","text-3xl"]],template:function(o,s){if(o&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),p(4),a(),l(5,"button",4),b("click",function(){return s.goToNewIpList()}),p(6),a()()()(),l(7,"div",5)(8,"div",6),g(9,Le,19,9,"ng-container",7)(10,we,7,1,"ng-template",null,8,k),a()()),o&2){let m=T(11);n(4),_(s.pageTitles.ipAddresses),n(2),_(s.buttons.manageIps),n(3),d("ngIf",s.loading===!1)("ngIfElse",m)}},dependencies:[A,q,D,R,$,B,H,w],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#17a2b8!important;border-color:#17a2b8!important}.collapse[_ngcontent-%COMP%]{visibility:visible!important}"]});let e=r;return e})();var Te=e=>["/ip-handler/edit",e];function ke(e,r){if(e&1){let t=F();l(0,"tr")(1,"td"),p(2),a(),l(3,"td"),p(4),a(),l(5,"td"),p(6),a(),l(7,"td"),p(8),a(),l(9,"td"),p(10),a(),l(11,"td")(12,"a",19),b("click",function(){let s=M(t).$implicit,m=c(3);return N(m.setSelectedIp(s))}),p(13),f(14,"i",20),a()()()}if(e&2){let t=r.$implicit,i=c(3);n(2),_(t.id),n(2),_(t.ip),n(2),_(t.label),n(2),_(t.created_at),n(2),_(t.updated_at),n(2),d("routerLink",X(7,Te,t.id)),n(1),S(" ",i.buttons.edit," ")}}function Me(e,r){if(e&1&&(l(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th"),p(5,"ID"),a(),l(6,"th"),p(7,"IP Address"),a(),l(8,"th"),p(9,"Label"),a(),l(10,"th"),p(11,"Date Created"),a(),l(12,"th"),p(13,"Modified"),a(),l(14,"th"),p(15,"Action"),a()()(),l(16,"tbody"),g(17,ke,15,9,"tr",17),a()(),f(18,"app-pagination",18),a()),e&2){let t=c(2);n(17),d("ngForOf",t.ipAddressList==null||t.ipAddressList.data==null?null:t.ipAddressList.data.data),n(1),d("baseUrl","/ip-handler")("currentPageIndex",t.ipAddressList==null||t.ipAddressList.data==null?null:t.ipAddressList.data.current_page)("lastPageIndex",t.ipAddressList==null||t.ipAddressList.data==null?null:t.ipAddressList.data.last_page)("pageLinks",t.ipAddressList==null||t.ipAddressList.data==null?null:t.ipAddressList.data.links)}}function Ne(e,r){if(e&1&&(l(0,"div",21)(1,"p",22),p(2),a()()),e&2){let t=c(2);n(2),_(t.messages.noIpFound)}}function Fe(e,r){if(e&1&&(v(0),g(1,Me,19,5,"div",13)(2,Ne,3,1,"ng-template",null,14,k),I()),e&2){let t=T(3),i=c();n(1),d("ngIf",((i.ipAddressList==null||i.ipAddressList.data==null?null:i.ipAddressList.data.total)||0)>0)("ngIfElse",t)}}function je(e,r){if(e&1&&(l(0,"div",23)(1,"p",24),p(2),a(),l(3,"p"),f(4,"i",25),a()()),e&2){let t=c();n(2),_(t.messages.pleaseWait)}}var ce=(()=>{let r=class r{constructor(i,o,s,m){this.router=i,this.ipHandlerService=o,this.paginationService=s,this.route=m,this.isLoading=!1,this.errors=null,this.subscriptions=new V,this.ipAddressSubscription=new J,this.currentPageIndex=1,this.titles={pageTitles:"IP Address List",cardTitles:"IP Address List"},this.buttons={addNewIp:"Add New IP",edit:"Update"},this.messages={noIpFound:"No IP address available.",pleaseWait:"Please Wait For A While..."}}ngOnInit(){this.subscriptions.sink=this.route.queryParams.subscribe(i=>{i.page?(this.isLoading=!0,this.paginationService.ipAddress?.list&&this.currentPageIndex===i.page?this.ipAddresses$=this.paginationService.getIpAddresses():(this.currentPageIndex=i.page,this.paginationService.setIpAddresses(null),this.paginationService.setSelectedPage(null),this.ipAddresses$=this.ipHandlerService.getIpAddresses(this.currentPageIndex)),this.ipAddressSubscription&&this.ipAddressSubscription.unsubscribe(),this.ipAddressSubscription=this.ipAddresses$.pipe(x(()=>this.isLoading=!1)).subscribe({next:o=>{this.ipAddressList=o,console.log({list:this.ipAddressList}),this.paginationService.setIpAddresses(this.ipAddressList),this.paginationService.setSelectedPage(this.currentPageIndex)},error:({error:o})=>{this.errors=o?.errors}})):(this.isLoading=!0,this.currentPageIndex=1,this.paginationService.ipAddress?.list&&this.currentPageIndex===this.paginationService.ipAddress?.pageSelected?this.ipAddresses$=this.paginationService.getIpAddresses():this.ipAddresses$=this.ipHandlerService.getIpAddresses(this.currentPageIndex),this.ipAddressSubscription&&this.ipAddressSubscription.unsubscribe(),this.ipAddressSubscription=this.ipAddresses$.pipe(x(()=>this.isLoading=!1)).subscribe({next:o=>{this.ipAddressList=o,this.paginationService.setIpAddresses(this.ipAddressList),this.paginationService.setSelectedPage(this.currentPageIndex)},error:({error:o})=>{this.errors=o?.errors}}))})}createIpFormView(){this.router.navigate(["ip-handler/create"])}setSelectedIp(i){this.paginationService.setSelectedIp(i)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.ipAddressSubscription.unsubscribe()}};r.\u0275fac=function(o){return new(o||r)(u(y),u(E),u(P),u(j))},r.\u0275cmp=C({type:r,selectors:[["app-ip-list"]],decls:17,vars:5,consts:[[1,"pageheader","pd-y-25"],[1,"pd-t-5","pd-b-5"],[1,"flex","justify-between"],[1,"pd-0","mg-0","tx-20","text-overflow"],["type","button",1,"btn","btn-info",3,"click"],[1,"row","clearfix"],[1,"col-md-12","col-lg-12","col-xl-12"],[1,"card","mb-4","shadow-1"],[1,"card-header"],[1,"card-header-title"],[1,"card-body","collapse","show"],[4,"ngIf","ngIfElse"],["loading",""],["class","data-wrapper",4,"ngIf","ngIfElse"],["noIpAddressFoundBlock",""],[1,"data-wrapper"],[1,"table","table-responsive","table-hover"],[4,"ngFor","ngForOf"],[3,"baseUrl","currentPageIndex","lastPageIndex","pageLinks"],[1,"btn","btn-info",3,"routerLink","click"],[1,"fa","fa-edit"],[1,"text-left"],[1,"text-base","text-red-800"],[1,"text-center"],[1,"text-3xl"],[1,"fa","fa-circle-o-notch","fa-spin","text-3xl"]],template:function(o,s){if(o&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),p(4),a(),l(5,"button",4),b("click",function(){return s.createIpFormView()}),p(6),a()()()(),l(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h4",9),p(12),a()(),l(13,"div",10),g(14,Fe,4,2,"ng-container",11)(15,je,5,1,"ng-template",null,12,k),a()()()()),o&2){let m=T(16);n(4),_(s.titles.pageTitles),n(2),S(" ",s.buttons.addNewIp," "),n(6),_(s.titles.cardTitles),n(2),d("ngIf",s.isLoading===!1)("ngIfElse",m)}},dependencies:[Y,A,ee,O],styles:[".collapse[_ngcontent-%COMP%]{visibility:visible!important}.dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_length[_ngcontent-%COMP%]{float:left}.dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_filter[_ngcontent-%COMP%]{float:right;text-align:right}.btn-info[_ngcontent-%COMP%]{color:#fff;background-color:#a4cc8f!important;border-color:#a4cc8f!important}"]});let e=r;return e})();var tt=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=Q({type:r}),r.\u0275inj=K({imports:[Z,te.forChild([{path:"",component:ce,title:"IP Address Manager - List"},{path:"create",component:pe,title:"IP Address Manager - Create"},{path:"edit/:id",component:me,title:"IP Address Manager - Update"}]),ie,w,O]});let e=r;return e})();export{tt as IpHandlerModule};
